<template>
  <div>
    <el-card>
      <strong>数据获取</strong>
      <p>
        有时候，进入某个路由后，需要从服务器获取数据。例如，在渲染用户信息时，你需要从服务器获取用户的数据。我们可以通过两种方式来实现：
      </p>
      <p>
        1、<strong>导航完成之后获取：</strong>先完成导航，然后在接下来的组件生命周期钩子中获取数据。在数据获取期间显示“加载中”之类的指示。
      </p>
      <p>
        <i
          >当你使用这种方式时，我们会马上导航和渲染组件，然后在组件的 created
          钩子中获取数据。这让我们有机会在数据获取期间展示一个 loading
          状态，还可以在不同视图间展示不同的 loading 状态。</i
        >
      </p>
      <p>
        2、<strong>导航完成之前获取：</strong>导航完成前，在路由进入的守卫中获取数据，在数据获取成功后执行导航。从技术角度讲，两种方式都不错
        —— 就看你想要的用户体验是哪种。
      </p>
      <p>
        <i
          >通过这种方式，我们在导航转入新的路由前获取数据。我们可以在接下来的组件的
          beforeRouteEnter 守卫中获取数据，当数据获取成功后只调用 next 方法。</i
        >
      </p>
    </el-card>
    <el-button @click="toInfo" type="success">查看更多教程</el-button>
  </div>
</template>

<script>
export default {
  methods: {
    toInfo() {
      window.open(
        'https://router.vuejs.org/zh/guide/advanced/data-fetching.html#%E5%AF%BC%E8%88%AA%E5%AE%8C%E6%88%90%E5%90%8E%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE'
      );
    },
  },
};
</script>

<style>
</style>